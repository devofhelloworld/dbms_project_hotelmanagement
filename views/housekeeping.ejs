<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Housekeeping Task - <%=hoteldata.name%> Hotel</title>
    <link rel="stylesheet" href="./output.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .font-playfair {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center">
                    <h1 class="text-3xl font-playfair font-bold text-amber-800"><%=hoteldata.name%></h1>
                    <span class="ml-4 text-gray-600">| Admin Dashboard</span>
                </div>
                <a href="/admin#housekeeping" class="text-gray-700 hover:text-amber-800 transition flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    Back to Dashboard
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-5xl mx-auto px-4 py-8">
        
        <!-- Header -->
        <div class="mb-8">
            <h2 class="text-3xl font-playfair font-bold text-gray-900 mb-2">Create Housekeeping Task</h2>
            <p class="text-gray-600">Assign a new cleaning or maintenance task to staff members</p>
        </div>

        <!-- Create Task Form -->
        <div class="bg-white rounded-xl shadow-lg p-8">
            <form id="createTaskForm" action="/housekeeping" method="POST">
                
                <!-- Task Details Section -->
                <div class="mb-8">
                    <h3 class="text-xl font-playfair font-bold text-gray-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-amber-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                        </svg>
                        Task Details
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Room Selection -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Room Number *</label>
                            <select name="room" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" required>
                                <option value="">Select Room</option>
                                <option value="Room 101">Room 101 - Deluxe Suite</option>
                                <option value="Room 102">Room 102 - Deluxe Suite</option>
                                <option value="Room 103">Room 103 - Deluxe Suite</option>
                                <option value="Room 201">Room 201 - Royal Executive</option>
                                <option value="Room 202">Room 202 - Royal Executive</option>
                                <option value="Room 203">Room 203 - Royal Executive</option>
                                <option value="Room 301">Room 301 - Presidential Suite</option>
                                <option value="Room 302">Room 302 - Presidential Suite</option>
                                <option value="Lobby Area">Lobby Area</option>
                                <option value="Restauran">Restaurant</option>
                                <option value="Pool Area">Pool Area</option>
                                <option value="Gym">Gym</option>
                            </select>
                        </div>

                        <!-- Task Type -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Task Type *</label>
                            <select id="taskType" name="tasktype" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" required>
                                <option value="">Select Task Type</option>
                                <option value="Standard Cleaning">Standard Cleaning</option>
                                <option value="Deep Cleaning">Deep Cleaning</option>
                                <option value="Checkout Cleaning">Checkout Cleaning</option>
                                <option value="Turndown Service">Turndown Service</option>
                                <option value="Maintenance Check">Maintenance Check</option>
                                <option value="Room Inspection">Room Inspection</option>
                                <option value="Laundry Service">Laundry Service</option>
                                <option value="Minibar Restocking">Minibar Restocking</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <!-- Priority Level -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Priority Level *</label>
                            <select name="priority" id="priority" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" required>
                                <option value="">Select Priority</option>
                                <option value="Low">Low - Can wait</option>
                                <option value="Medium">Medium - Normal priority</option>
                                <option value="High">High - Urgent attention needed</option>
                            </select>
                        </div>

                        <!-- Due Date -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Due Date & Time *</label>
                            <input name="due" type="datetime-local" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" required>
                        </div>
                    </div>

                    <!-- Task Description -->
                    <div class="mt-6">
                        <label class="block text-gray-700 font-medium mb-2">Task Description</label>
                        <textarea name="taskdes" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" placeholder="Provide detailed instructions or special notes for this task..."></textarea>
                    </div>
                </div>

                <!-- Staff Assignment Section -->
                <div class="mb-8">
                    <h3 class="text-xl font-playfair font-bold text-gray-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-amber-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                        Staff Assignment
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label class="block text-gray-700 font-medium mb-2">Assign To *</label>
                        <select name="assignedto" id="assignedStaff" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200" required>
                            <option value="">Select Staff Member</option>
                            <optgroup label="Housekeeping Staff">
                                <option value="Priya Sharma">Priya Sharma - Housekeeping Lead</option>
                                <option value="Anjali Patel">Anjali Patel - Housekeeping Staff</option>
                                <option value="Meera Reddy">Meera Reddy - Housekeeping Staff</option>
                                <option value="Kavita Singh">Kavita Singh - Housekeeping Staff</option>
                            </optgroup>
                            <optgroup label="Maintenance Team">
                                <option value="Rajesh Kumar">Rajesh Kumar - Maintenance Supervisor</option>
                                <option value="Amit Verma">Amit Verma - Maintenance Technician</option>
                                <option value="Vikram Rao">Vikram Rao - Maintenance Technician</option>
                            </optgroup>
                            <optgroup label="Other Staff">
                                <option value="Sunita Desai">Sunita Desai - Laundry Staff</option>
                                <option value="Arjun Malhotra">Arjun Malhotra - General Staff</option>
                            </optgroup>
                        </select>
                    </div>
                        <!-- Department -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Department</label>
                            <select name="department" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-amber-800 focus:ring-2 focus:ring-amber-200">
                                <option value="housekeeping">Housekeeping</option>
                                <option value="maintenance">Maintenance</option>
                                <option value="laundry">Laundry</option>
                                <option value="front-desk">Front Desk Support</option>
                            </select>
                        </div>
                    </div>

                    
                </div>

                <!-- Task Requirements Section -->
                <div class="mb-8">
                    <h3 class="text-xl font-playfair font-bold text-gray-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-amber-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        Task Requirements
                    </h3>
                    
                    <div class="space-y-3">
                        <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" name="Requires_special_equipment_or_supplies" class="w-5 h-5 text-amber-800 border-gray-300 rounded focus:ring-amber-800">
                            <div class="ml-4 flex-1">
                                <span class="text-gray-700 font-medium">Requires special equipment or supplies</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" name="Guest_is_present_in_room" class="w-5 h-5 text-amber-800 border-gray-300 rounded focus:ring-amber-800">
                            <div class="ml-4 flex-1">
                                <span class="text-gray-700 font-medium">Guest is present in room (coordinate timing)</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" name="Requires_supervisor_approval_before_completion" class="w-5 h-5 text-amber-800 border-gray-300 rounded focus:ring-amber-800">
                            <div class="ml-4 flex-1">
                                <span class="text-gray-700 font-medium">Requires supervisor approval before completion</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" name="Send_notification_to_guest_upon_completion" class="w-5 h-5 text-amber-800 border-gray-300 rounded focus:ring-amber-800">
                            <div class="ml-4 flex-1">
                                <span class="text-gray-700 font-medium">Send notification to guest upon completion</span>
                            </div>
                        </label>

                        <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" name="Recurring_task" class="w-5 h-5 text-amber-800 border-gray-300 rounded focus:ring-amber-800">
                            <div class="ml-4 flex-1">
                                <span class="text-gray-700 font-medium">Recurring task (create schedule)</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Estimated Time Section -->
                <div class="mb-8">
                    <h3 class="text-xl font-playfair font-bold text-gray-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-amber-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Estimated Completion Time
                    </h3>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-amber-800 transition">
                            <input type="radio" name="estimatedTime" value="15" class="text-amber-800 focus:ring-amber-800">
                            <span class="ml-3 text-gray-700 font-medium">15 mins</span>
                        </label>
                        
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-amber-800 transition">
                            <input type="radio" name="estimatedTime" value="30" class="text-amber-800 focus:ring-amber-800" checked>
                            <span class="ml-3 text-gray-700 font-medium">30 mins</span>
                        </label>
                        
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-amber-800 transition">
                            <input type="radio" name="estimatedTime" value="60" class="text-amber-800 focus:ring-amber-800">
                            <span class="ml-3 text-gray-700 font-medium">1 hour</span>
                        </label>
                        
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-amber-800 transition">
                            <input type="radio" name="estimatedTime" value="120" class="text-amber-800 focus:ring-amber-800">
                            <span class="ml-3 text-gray-700 font-medium">2+ hours</span>
                        </label>
                    </div>
                </div>

               

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
                    <button type="button" onclick="saveDraft()" class="flex-1 bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition font-semibold">
                        Save as Draft
                    </button>
                    <button type="button" onclick="window.history.back()" class="flex-1 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-50 transition font-semibold">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-amber-800 text-white py-3 px-6 rounded-lg hover:bg-amber-900 transition font-semibold shadow-lg">
                        Create Task
                    </button>
                </div>
            </form>
        </div>

        <!-- Quick Tips Card -->
        <div class="mt-6 bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg">
            <h4 class="font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Quick Tips
            </h4>
            <ul class="text-blue-800 text-sm space-y-2">
                <li>• High priority tasks will notify staff immediately via mobile app</li>
                <li>• Deep cleaning tasks automatically allocate 2 hours</li>
                <li>• Staff members receive notifications 30 minutes before scheduled tasks</li>
                <li>• Completed tasks require photo verification for quality control</li>
            </ul>
        </div>
    </div>

    <script>
        // Show/hide additional staff section
        document.getElementById('additionalStaff').addEventListener('change', function() {
            document.getElementById('additionalStaffSection').classList.toggle('hidden', !this.checked);
        });

        // Form submission
        document.getElementById('createTaskForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const taskType = document.getElementById('taskType').value;
            const priority = document.getElementById('priority').value;
            const staff = document.getElementById('assignedStaff').value;
            
            if (!taskType || !priority || !staff) {
                alert('Please fill in all required fields!');
                return;
            }
            
            // Show success message
            alert('Task created successfully!\n\nThe assigned staff member has been notified and the task is now visible in the housekeeping dashboard.');
            
            // In a real application, this would submit to the backend
            // window.location.href = 'housekeeping-dashboard.html';
        });

        // Save as draft
        function saveDraft() {
            alert('Task saved as draft!\n\nYou can find this in your drafts folder and complete it later.');
        }

        // File upload handling
        document.getElementById('fileUpload').addEventListener('change', function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                alert(`${files.length} file(s) selected for upload`);
            }
        });

        // Set minimum date to today
        const today = new Date().toISOString().slice(0, 16);
        document.querySelector('input[type="datetime-local"]').setAttribute('min', today);
    </script>
</body>
</html>